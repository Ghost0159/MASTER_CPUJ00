<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
	<META http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
	<META http-equiv="Content-Style-Type" content="text/css">
	<TITLE>NNS_GfdAllocFrmPlttVram</TITLE>
	<LINK rel="stylesheet" href="../../css/nitro.css" type="text/css">
</HEAD>

<BODY>

<H1 align="left">NNS_GfdAllocFrmPlttVram</H1>

<H2>構文</H2>
<DL>
  <DD>
  <PRE><CODE>#include &lt;nnsys/gfd.h&gt;</CODE></PRE>
  <PRE><CODE>NNSGfdTexKey NNS_GfdAllocFrmPlttVram(u32 szByte, BOOL b4Pltt, u32 allocFrom);</CODE></PRE>
</DL>

<H2>引数</H2>
<TABLE border="1" width="100%">
  <TBODY>
    <TR>
      <TD width="13%"><EM><STRONG>szByte</STRONG></EM></TD>
      <TD width="87%">確保したいパレット用メモリの大きさ( 8 - 524280 バイト )</TD>
    </TR>
    <TR>
      <TD width="13%"><EM><STRONG>b4Pltt</STRONG></EM></TD>
      <TD width="87%">４色パレット用メモリを確保する場合に真。</TD>
    </TR>
    <TR>
      <TD width="13%"><EM><STRONG>allocFrom</STRONG></EM></TD>
      <TD width="87%">パレット用メモリを確保する方向。</TD>
    </TR>
  </TBODY>
</TABLE>

<H2>返り値</H2>
<P>パレット用メモリを示すキー・データ。</P>

<H2>説明</H2>
<P>
<CODE>szByte</CODE>で指定された大きさのパレット用メモリをパレットRAMから確保し、そのパレット用メモリを示すキーを返します。
パレット用メモリの確保でエラーが発生した場合は、エラーを示すキーであるNNS_GFD_ALLOC_ERROR_PLTTKEYを返します。
</P>
<P>
フレームパレットVRAMマネージャでは、パレットRAMの上位、下位の両方からパレットメモリを確保することができます。
<CODE>allocFrom</CODE>に<CODE>NNS_GFD_ALLOC_FROM_LOW</CODE>が指定されている場合には、
パレットRAMの下位からパレットメモリを確保します。
また、<CODE>allocFrom</CODE>に<CODE>NNS_GFD_ALLOC_FROM_HIGH</CODE>が指定されている場合には、
パレットRAMの上位からパレットメモリを確保します。
</P>
<p>
キーが表現可能な最小サイズより小さなサイズの確保請求があった場合、請求サイズを最小サイズに切り上げて確保します。<BR>
キーが表現可能な最大サイズより大きなサイズの確保請求があった場合、確保処理を行わずエラーキーを返します。
</p>

<P>
<CODE>b4Pltt</CODE>に<CODE>TRUE</CODE>が指定されている場合には、
４色パレット用メモリを確保します。
この場合、４色パレットを置く事が可能な位置にパレット用メモリが確保できたかどうかの判定が行われます。
（４色パレットは、0x10000以降に置く事が出来ません。）
</P>


<H2>参照</H2>
<P><CODE>
<A href="NNS_GfdInitFrmPlttVramManager.html">NNS_GfdInitFrmPlttVramManager</A>
<A href="NNS_GfdFreeFrmPlttVram.html">NNS_GfdFreeFrmPlttVram</A>
</CODE></P>

<H2>履歴</H2>
<P>2005/01/31 サイズの値域に関する注意書きを追加</P>
<P>2004/07/16 初版</P>
</BODY>

</HTML>

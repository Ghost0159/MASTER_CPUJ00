<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>

<head>
<META http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<META name="GENERATOR" content="IBM WebSphere Studio Homepage Builder Version 7.0.0.0 for Windows">
<META http-equiv="Content-Style-Type" content="text/css">
<title>OS_WaitIrq</title>
<LINK rel="stylesheet" href="../../css/nitro.css" type="text/css">
</head>

<body>

<h1 align="left">OS_GetVBlankCount</h1>
<h2>構文</h2>

<dl>
  <dd>
<CODE>#include &lt;nitro/os.h&gt;</CODE><BR>
  <BR>
  <CODE>u32 OS_GetVBlankCount( void );</CODE></dd>
</dl><h2>引数</h2>
<P>なし。</P>
<h2>返り値</h2>
<p>Vブランクカウンタの値です。</p>
<H2>説明</H2>
<p>Vブランクカウンタの値を取得します。</p>
<p>Vブランクカウンタは、Vブランクのタイミングでインクリメントされるカウンタです。IRQテーブルの初期化時に
0 にクリアされます。以降、Vブランク割り込みが発生するたびにインクリメントされていきます。カウンタは
u32 型で、60フレーム/秒で計算すると、カウンタが１周するまでには2年余りかかります。</p>
<p>カウンタは ARM7 がVブランク割り込みハンドラを呼び出そうとする時点でインクリメントされ、共有メインメモリ領域に書き込みます。従って、ARM7で
IRQ割り込み要因にVブランクを含めていなかったり、IMEがディセーブルである場合など、Vブランク割り込みハンドラを呼び出す個所まで到達しない場合はカウンタの値は変化しません。ARM7でVブランク割り込みが許可されていれば、Vブランク割り込みハンドラが設定されていなくても、カウンタがインクリメントされます。</p>
<h2>参照</h2>
<p><CODE>なし。</CODE></p>
<H2>履歴</H2>
<P>
2005/03/08 用語統一 [割込み] → [割り込み]<br>
2004/08/10 初版</P>
</body>
</html>

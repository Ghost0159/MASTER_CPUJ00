<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>

<head>
<META http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<META name="GENERATOR" content="IBM WebSphere Studio Homepage Builder Version 8.0.0.0 for Windows">
<META http-equiv="Content-Style-Type" content="text/css">
<title>fx64c型用のマクロ</title>
<LINK rel="stylesheet" href="../css/nitro.css" type="text/css">
</head>

<body>

<h1 align="left">fx64c型用のマクロ</h1>
<h2>説明</h2>
<TABLE border="0" width="100%">
  <TBODY>
    <TR>
      <TD width="153">FX64C_SHIFT</TD>
      <TD width="469">fx64c型のためのシフト数(32)が定義されています。</TD>
    </TR>
    <TR>
      <TD width="153">FX64C_INT_SIZE</TD>
      <TD width="469">fx64c型の整数部分のビット幅(31)が定義されています。</TD>
    </TR>
    <TR>
      <TD width="153">FX64C_DEC_SIZE</TD>
      <TD width="469">fx64c型の小数部分のビット幅(32)が定義されています。</TD>
    </TR>
    <TR>
      <TD width="153">FX64C_INT_MASK</TD>
      <TD width="469">fx64c型の整数部分のマスク(0x7fffffff00000000)が定義されています。</TD>
    </TR>
    <TR>
      <TD width="153">FX64C_DEC_MASK</TD>
      <TD width="469">fx64c型の小数部分のマスク(0x00000000ffffffff)が定義されています。</TD>
    </TR>
    <TR>
      <TD width="153">FX64C_SIGN_MASK</TD>
      <TD width="469">fx64c型の符号部分のマスク(0x8000000000000000)が定義されています。</TD>
    </TR>
    <TR>
      <TD width="153">FX64C_MAX</TD>
      <TD width="469">fx64c型が取りうる最大値が定義されています。</TD>
    </TR>
    <TR>
      <TD width="153">FX64C_MIN</TD>
      <TD width="469">fx64c型が取りうる最小値が定義されています。</TD>
    </TR>
    <TR>
      <TD>FX_FX64C_TO_F32</TD>
      <TD>fx64c型をf32型に変換します。</TD>
    </TR>
    <TR>
      <TD>FX_F32_TO_FX64C<BR>
      FX64C_CONST</TD>
      <TD>f32型をfx64型に変換します。</TD>
    </TR>
  </TBODY>
</TABLE>
<H2>マクロの定義</H2>
<PRE><CODE>#define FX64C_SHIFT          32
#define FX64C_INT_SIZE       31
#define FX64C_DEC_SIZE       32

#define FX64C_INT_MASK       ((fx64c)0x7fffffff00000000)
#define FX64C_DEC_MASK       ((fx64c)0x00000000ffffffff)
#define FX64C_SIGN_MASK      ((fx64c)0x8000000000000000)

#define FX64C_MAX            ((fx64c)0x7fffffffffffffff)
#define FX64C_MIN            ((fx64c)0x8000000000000000)
#define FX_FX64C_TO_F32(x)   ((f32)((x) / (f32)(1 &lt;&lt; FX64C_SHIFT)))
#define FX_F32_TO_FX64C(x)   ((fx64c)(((x) &gt; 0) ? \
                                      ((x) * ((fx64c)1 &lt;&lt; FX64C_SHIFT) + 0.5f ) : \
                                      ((x) * ((fx64c)1 &lt;&lt; FX64C_SHIFT) - 0.5f )))

#define FX64C_CONST(x)      FX_F32_TO_FX64C(x)</CODE></PRE>
<H2>履歴</H2>
<P>Ver. 2004/02/25</P>
</body>
</html>
